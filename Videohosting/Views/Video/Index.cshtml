@using Microsoft.AspNet.Identity
@model List<Videohosting.Models.Video>
@*@model IEnumerable<Videohosting.Models.Video>*@

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>My videos</h2>

<p>
    @Html.ActionLink("Upload new video", "Upload", "Video")
</p>
<table>
    <tr>
        <th>Title</th>
        <th>Video</th>
    </tr>
    
@if (Model?.Count() > 0)
{
    foreach (var item in Model)
     {
         if (item.User.UserName == User.Identity.GetUserName())
         {
             <tr>
                 <td>
                     @Html.DisplayFor(modelItem => item.Title)
                 </td>
                 <td>
                     <video style="outline: none; width: 60%;" controls="controls">
                         <source src="@Url.Action("ShowVideo", "Video", new {filePath = item.FilePath})" type="video/mp4">
                     </video>
                 </td>
             </tr>
         }
     }
}
</table>

