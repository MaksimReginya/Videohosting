@model Videohosting.Models.Channel

@if (!ViewBag.IsSubscribed)
{
    using (Ajax.BeginForm("Subscribe", new AjaxOptions { UpdateTargetId = "sub-button", InsertionMode = InsertionMode.Replace }))
    {   
         <input type="hidden" name="channelId" value="@Model.Id"/>
         <input type="hidden" name="userName" value="@User.Identity.Name"/>
         <input type="submit" class="btn btn-success" value="Subscribe" />
    }
}
else
{
    using (Ajax.BeginForm("Unsubscribe", new AjaxOptions { UpdateTargetId = "sub-button", InsertionMode = InsertionMode.Replace }))
    {   
        <input type="hidden" name="channelId" value="@Model.Id"/>
        <input type="hidden" name="userName" value="@User.Identity.Name"/>
        <input type="submit" class="btn btn-success" value="Unsubscribe" />
    }
}