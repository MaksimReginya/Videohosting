@using Microsoft.AspNet.Identity
@model List<Videohosting.Models.Video>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>My videos</h2>

<p>
    @Html.ActionLink("Upload new video", "Upload", "Video")
</p>
@if (Model?.Count > 0)
{   
    for (int j = 0; j < Model.Count; j+=3)
    {
        <div class ="row">
            @for(int i = j; i < Model.Count; i++)
            {
                <div class="col-md-4">
                    <p>@Html.DisplayFor(modelItem => Model[i].Title)</p>
                    <a href="@Url.Action("Display", "Video", new {name = Model[i].FilePath})" type="video/mp4">
                        <video style="outline: none; width: 100%;">
                            <source src="@Url.Action("ShowVideo", "Video", new {filePath = Model[i].FilePath})" type="video/mp4">
                        </video>
                    </a>
                </div>
                 
                if (i % 3 == 2)
                {
                    break;
                }
            }
        </div>
    }
}
